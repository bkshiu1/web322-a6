<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title><%= data.title %> - Climate Solutions</title>
  <link href="/css/main.css" rel="stylesheet">
</head>
<body class="bg-base-200">

  <%- include('partials/navbar', { page: "/solutions/projects" }) %>

  <div class="container mx-auto p-4">
    <div class="hero bg-base-100 rounded-lg shadow">
      <div class="hero-content text-center">
        <div class="max-w-md">
          <h1 class="text-5xl font-bold"><%= data.title %></h1>
          <p class="py-4 text-lg"><%= data.sector %> sector</p>
        </div>
      </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-8">
      <img src="<%= data.feature_img_url %>" alt="<%= data.title %>" class="rounded-lg shadow">
      <div>
        <p><%= data.intro_short %></p>
        <ul class="mt-4 space-y-2">
          <li><strong>Technology:</strong> <%= data.technology %></li>
          <li><strong>Location:</strong> <%= data.location %></li>
          <li><strong>Impact:</strong> <%= data.impact %></li>
          <li><strong>More Info:</strong> <a href="<%= data.original_source_url %>" class="link" target="_blank">Visit Source</a></li>
        </ul>

        <div class="mt-6 italic text-gray-500">
          <p id="quote">Loading quote...</p>
          <p id="author"></p>
        </div>

        <div class="flex flex-col gap-2 mt-6">
          <a href="#" onclick="history.back(); return false;" class="btn btn-outline">‚Üê Back</a>
          <% if (session.user) { %>
            <a href="/solutions/editProject/<%= data.id %>" class="btn btn-success">Edit</a>
          <% } %>
        </div>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      fetch("https://dummyjson.com/quotes/random")
        .then(res => res.json())
        .then(data => {
          document.getElementById("quote").textContent = `"${data.quote}"`;
          document.getElementById("author").textContent = `- ${data.author}`;
        });
    });
  </script>

</body>
</html>
